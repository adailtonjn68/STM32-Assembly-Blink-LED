.syntax unified
.cpu cortex-m3
.fpu softvfp
.thumb


@*********************************************************
@******************** Define bases ***********************
@*********************************************************

.equ PERIPH_BASE,           (0x40000000)

@ Bus: AHB
@.equ FLASH_BASE,            (0x40022000)
.equ RCC_BASE,              (0x40021000)
.equ DMA2_BASE,             (0x40020400)
.equ DMA1_BASE,             (0x40020000)
.equ SDIO_BASE,             (0x40018000)
@ Bus: APB2
.equ TIM11_BASE,            (0x40015400)
.equ TIM10_BASE,            (0x40015000)
.equ TIM9_BASE,             (0x40014C00)
.equ ADC3_BASE,             (0x40013C00)
.equ USART1_BASE,           (0x40013800)
.equ TIM8_BASE,             (0x40013400)
.equ SPI1_BASE,             (0x40013000)
.equ TIM1_BASE,             (0x40012800)
.equ ADC2_BASE,             (0x40012800)
.equ ADC1_BASE,             (0x40012400)
.equ GPIOG_BASE,            (0x40012000)
.equ GPIOF_BASE,            (0x40011C00)
.equ GPIOE_BASE,            (0x40011800)
.equ GPIOD_BASE,            (0x40011400)
.equ GPIOC_BASE,            (0x40011000)
.equ GPIOB_BASE,            (0x40010C00)
.equ GPIOA_BASE,            (0x40010800)
.equ EXTI_BASE,             (0x40010400)
.equ AFIO_BASE,             (0x40010000)
@ Bus: APB1
.equ DAC_BASE,              (0x40007400)
.equ PWR_BASE,              (0x40007000)
.equ BKP_BASE,              (0x40006C00)
.equ bxCAN1_BASE,           (0x40006400)
.equ bxCAN2_BASE,           (0x40006800)
.equ SharedUSBCANSRAM_BASE, (0x40006000)
.equ I2C2_BASE,             (0x40005800)
.equ I2C1_BASE,             (0x40005400)
.equ UART5_BASE,            (0x40005000)
.equ UART4_BASE,            (0x40004C00)
.equ USART3_BASE,           (0x40004800)
.equ USART2_BASE,           (0x40004400)
.equ SPI3_BASE,             (0x40003C00)
.equ SPI2_BASE,             (0x40003800)
.equ IWDG_BASE,             (0x40003000)
.equ WWDG_BASE,             (0x40002C00)
.equ RTC_BASE,              (0x40002800)
.equ TIM14_BASE,            (0x40002000)
.equ TIM13_BASE,            (0x40001C00)
.equ TIM12_BASE,            (0x40001800)
.equ TIM7_BASE,             (0x40001400)
.equ TIM6_BASE,             (0x40001000)
.equ TIM5_BASE,             (0x40000C00)
.equ TIM4_BASE,             (0x40000800)
.equ TIM3_BASE,             (0x40000400)
.equ TIM2_BASE,             (0x40000000)



@*********************************************************
@***************** Register addresses ********************
@*********************************************************

.equ CRC_DR,                (CRC_BASE + 0x00)
.equ CRC_IDR,               (CRC_BASE + 0x04)
.equ CRC_CR,                (CRC_BASE + 0x08)

.equ PWR_CR,                (PWR_BASE + 0x00)
.equ PWR_CSR,               (PWR_BASE + 0x04)

.equ BKP_DR1,               (BKP_BASE + 0x04)
.equ BKP_DR2,               (BKP_BASE + 0x08)
.equ BKP_DR3,               (BKP_BASE + 0x0C)
.equ BKP_DR4,               (BKP_BASE + 0x10)
.equ BKP_DR5,               (BKP_BASE + 0x14)
.equ BKP_DR6,               (BKP_BASE + 0x18)
.equ BKP_DR7,               (BKP_BASE + 0x1C)
.equ BKP_DR8,               (BKP_BASE + 0x20)
.equ BKP_DR9,               (BKP_BASE + 0x24)
.equ BKP_DR10,              (BKP_BASE + 0x28)
.equ BKP_RTCCR,             (BKP_BASE + 0x2C)
.equ BKP_CR,                (BKP_BASE + 0x30)
.equ BKP_CSR,               (BKP_BASE + 0x34)
.equ BKP_DR11,              (BKP_BASE + 0x40)
.equ BKP_DR12,              (BKP_BASE + 0x44)
.equ BKP_DR13,              (BKP_BASE + 0x48)
.equ BKP_DR14,              (BKP_BASE + 0x4C)
.equ BKP_DR15,              (BKP_BASE + 0x50)
.equ BKP_DR16,              (BKP_BASE + 0x54)
.equ BKP_DR17,              (BKP_BASE + 0x58)
.equ BKP_DR18,              (BKP_BASE + 0x5C)
.equ BKP_DR19,              (BKP_BASE + 0x60)
.equ BKP_DR20,              (BKP_BASE + 0x64)
.equ BKP_DR21,              (BKP_BASE + 0x68)
.equ BKP_DR22,              (BKP_BASE + 0x6C)
.equ BKP_DR23,              (BKP_BASE + 0x70)
.equ BKP_DR24,              (BKP_BASE + 0x74)
.equ BKP_DR25,              (BKP_BASE + 0x78)
.equ BKP_DR26,              (BKP_BASE + 0x7C)
.equ BKP_DR27,              (BKP_BASE + 0x80)
.equ BKP_DR28,              (BKP_BASE + 0x84)
.equ BKP_DR29,              (BKP_BASE + 0x88)
.equ BKP_DR30,              (BKP_BASE + 0x8C)
.equ BKP_DR31,              (BKP_BASE + 0x90)
.equ BKP_DR32,              (BKP_BASE + 0x94)
.equ BKP_DR33,              (BKP_BASE + 0x98)
.equ BKP_DR34,              (BKP_BASE + 0x9C)
.equ BKP_DR35,              (BKP_BASE + 0xA0)
.equ BKP_DR36,              (BKP_BASE + 0xA4)
.equ BKP_DR37,              (BKP_BASE + 0xA8)
.equ BKP_DR38,              (BKP_BASE + 0xAC)
.equ BKP_DR39,              (BKP_BASE + 0xB0)
.equ BKP_DR40,              (BKP_BASE + 0xB4)
.equ BKP_DR41,              (BKP_BASE + 0xB8)
.equ BKP_DR42,              (BKP_BASE + 0xBC)


.equ RCC_CR,                (RCC_BASE + 0x00)
.equ RCC_CFGR,              (RCC_BASE + 0x04)
.equ RCC_CIR,               (RCC_BASE + 0x08)
.equ RCC_APB2RSTR,          (RCC_BASE + 0x0C)
.equ RCC_APB1RSTR,          (RCC_BASE + 0x10)
.equ RCC_AHBENR,            (RCC_BASE + 0x14)
.equ RCC_APB2ENR,           (RCC_BASE + 0x18)
.equ RCC_APB1ENR,           (RCC_BASE + 0x1C)
.equ RCC_BDCR,              (RCC_BASE + 0x20)
.equ RCC_CSR,               (RCC_BASE + 0x24)


.equ GPIOC_CRL,             (GPIOC_BASE + 0x00)
.equ GPIOC_CRH,             (GPIOC_BASE + 0x04)
.equ GPIOC_IDR,             (GPIOC_BASE + 0x08)
.equ GPIOC_ODR,             (GPIOC_BASE + 0x0C)
.equ GPIOC_BSRR,            (GPIOC_BASE + 0x10)
.equ GPIOC_BRR,             (GPIOC_BASE + 0x14)
.equ GPIOC_LCKR,            (GPIOC_BASE + 0x18)

.equ GPIOB_CRL,             (GPIOB_BASE + 0x00)
.equ GPIOB_CRH,             (GPIOB_BASE + 0x04)
.equ GPIOB_IDR,             (GPIOB_BASE + 0x08)
.equ GPIOB_ODR,             (GPIOB_BASE + 0x0C)
.equ GPIOB_BSRR,            (GPIOB_BASE + 0x10)
.equ GPIOB_BRR,             (GPIOB_BASE + 0x14)
.equ GPIOB_LCKR,            (GPIOB_BASE + 0x18)

.equ GPIOA_CRL,             (GPIOA_BASE + 0x00)
.equ GPIOA_CRH,             (GPIOA_BASE + 0x04)
.equ GPIOA_IDR,             (GPIOA_BASE + 0x08)
.equ GPIOA_ODR,             (GPIOA_BASE + 0x0C)
.equ GPIOA_BSRR,            (GPIOA_BASE + 0x10)
.equ GPIOA_BRR,             (GPIOA_BASE + 0x14)
.equ GPIOA_LCKR,            (GPIOA_BASE + 0x18)

.equ AFIO_EVCR,             (AFIO_BASE + 0x00)
.equ AFIO_MAPR,             (AFIO_BASE + 0x04)
.equ AFIO_EXTICR1,          (AFIO_BASE + 0x08)
.equ AFIO_EXTICR2,          (AFIO_BASE + 0x0C)
.equ AFIO_EXTICR3,          (AFIO_BASE + 0x10)
.equ AFIO_EXTICR4,          (AFIO_BASE + 0x14)
.equ AFIO_MAPR2,            (AFIO_BASE + 0x1C)

.equ EXTI_IMR,              (EXTI_BASE + 0x00)
.equ EXTI_EMR,              (EXTI_BASE + 0x04)
.equ EXTI_RTSR,             (EXTI_BASE + 0x08)
.equ EXTI_FTSR,             (EXTI_BASE + 0x0C)
.equ EXTI_SWIER,            (EXTI_BASE + 0x10)
.equ EXTI_PR,               (EXTI_BASE + 0x14)

.equ ADC1_SR,               (ADC1_BASE + 0x00)
.equ ADC1_CR1,              (ADC1_BASE + 0x04)
.equ ADC1_CR2,              (ADC1_BASE + 0x08)
.equ ADC1_SMPR1,            (ADC1_BASE + 0x0C)
.equ ADC1_SMPR2,            (ADC1_BASE + 0x10)
.equ ADC1_JOFR1,            (ADC1_BASE + 0x14)
.equ ADC1_JOFR2,            (ADC1_BASE + 0x18)
.equ ADC1_JOFR3,            (ADC1_BASE + 0x1C)
.equ ADC1_JOFR4,            (ADC1_BASE + 0x20)
.equ ADC1_HTR,              (ADC1_BASE + 0x24)
.equ ADC1_LTR,              (ADC1_BASE + 0x28)
.equ ADC1_SQR1,             (ADC1_BASE + 0x2C)
.equ ADC1_SQR2,             (ADC1_BASE + 0x30)
.equ ADC1_SQR3,             (ADC1_BASE + 0x34)
.equ ADC1_JSQR,             (ADC1_BASE + 0x38)
.equ ADC1_JDR1,             (ADC1_BASE + 0x3C)
.equ ADC1_JDR2,             (ADC1_BASE + 0x40)
.equ ADC1_JDR3,             (ADC1_BASE + 0x44)
.equ ADC1_JDR4,             (ADC1_BASE + 0x48)
.equ ADC1_DR,               (ADC1_BASE + 0x4C)

.equ ADC2_SR,               (ADC2_BASE + 0x00)
.equ ADC2_CR1,              (ADC2_BASE + 0x04)
.equ ADC2_CR2,              (ADC2_BASE + 0x08)
.equ ADC2_SMPR1,            (ADC2_BASE + 0x0C)
.equ ADC2_SMPR2,            (ADC2_BASE + 0x10)
.equ ADC2_JOFR1,            (ADC2_BASE + 0x14)
.equ ADC2_JOFR2,            (ADC2_BASE + 0x18)
.equ ADC2_JOFR3,            (ADC2_BASE + 0x1C)
.equ ADC2_JOFR4,            (ADC2_BASE + 0x20)
.equ ADC2_HTR,              (ADC2_BASE + 0x24)
.equ ADC2_LTR,              (ADC2_BASE + 0x28)
.equ ADC2_SQR1,             (ADC2_BASE + 0x2C)
.equ ADC2_SQR2,             (ADC2_BASE + 0x30)
.equ ADC2_SQR3,             (ADC2_BASE + 0x34)
.equ ADC2_JSQR,             (ADC2_BASE + 0x38)
.equ ADC2_JDR1,             (ADC2_BASE + 0x3C)
.equ ADC2_JDR2,             (ADC2_BASE + 0x40)
.equ ADC2_JDR3,             (ADC2_BASE + 0x44)
.equ ADC2_JDR4,             (ADC2_BASE + 0x48)
.equ ADC2_DR,               (ADC2_BASE + 0x4C)

.equ ADC3_SR,               (ADC3_BASE + 0x00)
.equ ADC3_CR1,              (ADC3_BASE + 0x04)
.equ ADC3_CR2,              (ADC3_BASE + 0x08)
.equ ADC3_SMPR1,            (ADC3_BASE + 0x0C)
.equ ADC3_SMPR2,            (ADC3_BASE + 0x10)
.equ ADC3_JOFR1,            (ADC3_BASE + 0x14)
.equ ADC3_JOFR2,            (ADC3_BASE + 0x18)
.equ ADC3_JOFR3,            (ADC3_BASE + 0x1C)
.equ ADC3_JOFR4,            (ADC3_BASE + 0x20)
.equ ADC3_HTR,              (ADC3_BASE + 0x24)
.equ ADC3_LTR,              (ADC3_BASE + 0x28)
.equ ADC3_SQR1,             (ADC3_BASE + 0x2C)
.equ ADC3_SQR2,             (ADC3_BASE + 0x30)
.equ ADC3_SQR3,             (ADC3_BASE + 0x34)
.equ ADC3_JSQR,             (ADC3_BASE + 0x38)
.equ ADC3_JDR1,             (ADC3_BASE + 0x3C)
.equ ADC3_JDR2,             (ADC3_BASE + 0x40)
.equ ADC3_JDR3,             (ADC3_BASE + 0x44)
.equ ADC3_JDR4,             (ADC3_BASE + 0x48)
.equ ADC3_DR,               (ADC3_BASE + 0x4C)

.equ TIM1_CR1,              (TIM1_BASE + 0x00)
.equ TIM1_CR2,              (TIM1_BASE + 0x04)
.equ TIM1_SMCR,             (TIM1_BASE + 0x08)
.equ TIM1_DIER,             (TIM1_BASE + 0x0C)
.equ TIM1_SR,               (TIM1_BASE + 0x10)
.equ TIM1_EGR,              (TIM1_BASE + 0x14)
.equ TIM1_CCMR1,            (TIM1_BASE + 0x18)
.equ TIM1_CCMR2,            (TIM1_BASE + 0x1C)
.equ TIM1_CCER,             (TIM1_BASE + 0x20)
.equ TIM1_CNT,              (TIM1_BASE + 0x24)
.equ TIM1_PSC,              (TIM1_BASE + 0x28)
.equ TIM1_ARR,              (TIM1_BASE + 0x2C)
.equ TIM1_RCR,              (TIM1_BASE + 0x30)
.equ TIM1_CCR1,             (TIM1_BASE + 0x34)
.equ TIM1_CCR2,             (TIM1_BASE + 0x38)
.equ TIM1_CCR3,             (TIM1_BASE + 0x3C)
.equ TIM1_CCR4,             (TIM1_BASE + 0x40)
.equ TIM1_BDTR,             (TIM1_BASE + 0x44)
.equ TIM1_DCR,              (TIM1_BASE + 0x48)
.equ TIM1_DMAR,             (TIM1_BASE + 0x4C)

.equ TIM8_CR1,              (TIM8_BASE + 0x00)
.equ TIM8_CR2,              (TIM8_BASE + 0x04)
.equ TIM8_SMCR,             (TIM8_BASE + 0x08)
.equ TIM8_DIER,             (TIM8_BASE + 0x0C)
.equ TIM8_SR,               (TIM8_BASE + 0x10)
.equ TIM8_EGR,              (TIM8_BASE + 0x14)
.equ TIM8_CCMR1,            (TIM8_BASE + 0x18)
.equ TIM8_CCMR2,            (TIM8_BASE + 0x1C)
.equ TIM8_CCER,             (TIM8_BASE + 0x20)
.equ TIM8_CNT,              (TIM8_BASE + 0x24)
.equ TIM8_PSC,              (TIM8_BASE + 0x28)
.equ TIM8_ARR,              (TIM8_BASE + 0x2C)
.equ TIM8_RCR,              (TIM8_BASE + 0x30)
.equ TIM8_CCR1,             (TIM8_BASE + 0x34)
.equ TIM8_CCR2,             (TIM8_BASE + 0x38)
.equ TIM8_CCR3,             (TIM8_BASE + 0x3C)
.equ TIM8_CCR4,             (TIM8_BASE + 0x40)
.equ TIM8_BDTR,             (TIM8_BASE + 0x44)
.equ TIM8_DCR,              (TIM8_BASE + 0x48)
.equ TIM8_DMAR,             (TIM8_BASE + 0x4C)


@*********************************************************
@***************** Defining constants ********************
@*********************************************************

@ RCC constants
.equ RCC_APB2ENR_IOPGEN,    (BIT8)
.equ RCC_APB2ENR_IOPFEN,    (BIT7)
.equ RCC_APB2ENR_IOPEEN,    (BIT6)
.equ RCC_APB2ENR_IOPDEN,    (BIT5)
.equ RCC_APB2ENR_IOPCEN,    (BIT4)
.equ RCC_APB2ENR_IOPBEN,    (BIT3)
.equ RCC_APB2ENR_IOPAEN,    (BIT2)

@ GPIO constants
.equ GPIO_CRL_CNF7,         (BIT31 | BIT30)
.equ GPIO_CRL_CNF6,         (BIT27 | BIT26)
.equ GPIO_CRL_CNF5,         (BIT23 | BIT22)
.equ GPIO_CRL_CNF4,         (BIT19 | BIT18)
.equ GPIO_CRL_CNF3,         (BIT15 | BIT14)
.equ GPIO_CRL_CNF2,         (BIT11 | BIT10)
.equ GPIO_CRL_CNF1,         (BIT7 | BIT6)
.equ GPIO_CRL_CNF0,         (BIT3 | BIT2)

.equ GPIO_CRL_MODE7,        (BIT29 | BIT28)
.equ GPIO_CRL_MODE6,        (BIT25 | BIT24)
.equ GPIO_CRL_MODE5,        (BIT21 | BIT20)
.equ GPIO_CRL_MODE4,        (BIT17 | BIT16)
.equ GPIO_CRL_MODE3,        (BIT13 | BIT12)
.equ GPIO_CRL_MODE2,        (BIT9 | BIT8)
.equ GPIO_CRL_MODE1,        (BIT5 | BIT4)
.equ GPIO_CRL_MODE0,        (BIT1 | BIT0)

.equ GPIO_CRL_CNF7_0,       (BIT30)
.equ GPIO_CRL_CNF7_1,       (BIT31)
.equ GPIO_CRL_CNF6_0,       (BIT26)
.equ GPIO_CRL_CNF6_1,       (BIT27)
.equ GPIO_CRL_CNF5_0,       (BIT22)
.equ GPIO_CRL_CNF5_1,       (BIT23)
.equ GPIO_CRL_CNF4_0,       (BIT18)
.equ GPIO_CRL_CNF4_1,       (BIT19)
.equ GPIO_CRL_CNF3_0,       (BIT14)
.equ GPIO_CRL_CNF3_1,       (BIT15)
.equ GPIO_CRL_CNF2_0,       (BIT10)
.equ GPIO_CRL_CNF2_1,       (BIT11)
.equ GPIO_CRL_CNF1_0,       (BIT6)
.equ GPIO_CRL_CNF1_1,       (BIT7)
.equ GPIO_CRL_CNF0_0,       (BIT2)
.equ GPIO_CRL_CNF0_1,       (BIT3)

.equ GPIO_CRL_MODE7_0,      (BIT28)
.equ GPIO_CRL_MODE7_1,      (BIT29)
.equ GPIO_CRL_MODE6_0,      (BIT24)
.equ GPIO_CRL_MODE6_1,      (BIT25)
.equ GPIO_CRL_MODE5_0,      (BIT20)
.equ GPIO_CRL_MODE5_1,      (BIT21)
.equ GPIO_CRL_MODE4_0,      (BIT16)
.equ GPIO_CRL_MODE4_1,      (BIT17)
.equ GPIO_CRL_MODE3_0,      (BIT12)
.equ GPIO_CRL_MODE3_1,      (BIT13)
.equ GPIO_CRL_MODE2_0,      (BIT8)
.equ GPIO_CRL_MODE2_1,      (BIT9)
.equ GPIO_CRL_MODE1_0,      (BIT4)
.equ GPIO_CRL_MODE1_1,      (BIT5)
.equ GPIO_CRL_MODE0_0,      (BIT0)
.equ GPIO_CRL_MODE0_1,      (BIT1)

.equ GPIO_CRH_CNF15,        (BIT31 | BIT30)
.equ GPIO_CRH_CNF14,        (BIT27 | BIT26)
.equ GPIO_CRH_CNF13,        (BIT23 | BIT22)
.equ GPIO_CRH_CNF12,        (BIT19 | BIT18)
.equ GPIO_CRH_CNF11,        (BIT15 | BIT14)
.equ GPIO_CRH_CNF10,        (BIT11 | BIT10)
.equ GPIO_CRH_CNF9,         (BIT7 | BIT6)
.equ GPIO_CRH_CNF8,         (BIT3 | BIT2)

.equ GPIO_CRH_MODE15,       (BIT29 | BIT28)
.equ GPIO_CRH_MODE14,       (BIT25 | BIT24)
.equ GPIO_CRH_MODE13,       (BIT21 | BIT20)
.equ GPIO_CRH_MODE12,       (BIT17 | BIT16)
.equ GPIO_CRH_MODE11,       (BIT13 | BIT12)
.equ GPIO_CRH_MODE10,       (BIT9 | BIT8)
.equ GPIO_CRH_MODE9,        (BIT5 | BIT4)
.equ GPIO_CRH_MODE8,        (BIT1 | BIT0)

.equ GPIO_CRH_CNF15_0,      (BIT30)
.equ GPIO_CRH_CNF15_1,      (BIT31)
.equ GPIO_CRH_CNF14_0,      (BIT26)
.equ GPIO_CRH_CNF14_1,      (BIT27)
.equ GPIO_CRH_CNF13_0,      (BIT22)
.equ GPIO_CRH_CNF13_1,      (BIT23)
.equ GPIO_CRH_CNF12_0,      (BIT18)
.equ GPIO_CRH_CNF12_1,      (BIT19)
.equ GPIO_CRH_CNF11_0,      (BIT14)
.equ GPIO_CRH_CNF11_1,      (BIT15)
.equ GPIO_CRH_CNF10_0,      (BIT10)
.equ GPIO_CRH_CNF10_1,      (BIT11)
.equ GPIO_CRH_CNF9_0,       (BIT6)
.equ GPIO_CRH_CNF9_1,       (BIT7)
.equ GPIO_CRH_CNF8_0,       (BIT2)
.equ GPIO_CRH_CNF8_1,       (BIT3)

.equ GPIO_CRH_MODE15_0,     (BIT28)
.equ GPIO_CRH_MODE15_1,     (BIT29)
.equ GPIO_CRH_MODE14_0,     (BIT24)
.equ GPIO_CRH_MODE14_1,     (BIT25)
.equ GPIO_CRH_MODE13_0,     (BIT20)
.equ GPIO_CRH_MODE13_1,     (BIT21)
.equ GPIO_CRH_MODE12_0,     (BIT16)
.equ GPIO_CRH_MODE12_1,     (BIT17)
.equ GPIO_CRH_MODE11_0,     (BIT12)
.equ GPIO_CRH_MODE11_1,     (BIT13)
.equ GPIO_CRH_MODE10_0,     (BIT8)
.equ GPIO_CRH_MODE10_1,     (BIT9)
.equ GPIO_CRH_MODE9_0,      (BIT4)
.equ GPIO_CRH_MODE9_1,      (BIT5)
.equ GPIO_CRH_MODE8_0,      (BIT0)
.equ GPIO_CRH_MODE8_1,      (BIT1)

.equ GPIO_BSRR_BR15,        (BIT15 << 16)
.equ GPIO_BSRR_BR14,        (BIT14 << 16)
.equ GPIO_BSRR_BR13,        (BIT13 << 16)
.equ GPIO_BSRR_BR12,        (BIT12 << 16)
.equ GPIO_BSRR_BR11,        (BIT11 << 16)
.equ GPIO_BSRR_BR10,        (BIT10 << 16)
.equ GPIO_BSRR_BR9,         (BIT9 << 16)
.equ GPIO_BSRR_BR8,         (BIT8 << 16)
.equ GPIO_BSRR_BR7,         (BIT7 << 16)
.equ GPIO_BSRR_BR6,         (BIT6 << 16)
.equ GPIO_BSRR_BR5,         (BIT5 << 16)
.equ GPIO_BSRR_BR4,         (BIT4 << 16)
.equ GPIO_BSRR_BR3,         (BIT3 << 16)
.equ GPIO_BSRR_BR2,         (BIT2 << 16)
.equ GPIO_BSRR_BR1,         (BIT1 << 16)
.equ GPIO_BSRR_BR0,         (BIT0 << 16)

.equ GPIO_BSRR_BS15,        (BIT15)
.equ GPIO_BSRR_BS14,        (BIT14)
.equ GPIO_BSRR_BS13,        (BIT13)
.equ GPIO_BSRR_BS12,        (BIT12)
.equ GPIO_BSRR_BS11,        (BIT11)
.equ GPIO_BSRR_BS10,        (BIT10)
.equ GPIO_BSRR_BS9,         (BIT9)
.equ GPIO_BSRR_BS8,         (BIT8)
.equ GPIO_BSRR_BS7,         (BIT7)
.equ GPIO_BSRR_BS6,         (BIT6)
.equ GPIO_BSRR_BS5,         (BIT5)
.equ GPIO_BSRR_BS4,         (BIT4)
.equ GPIO_BSRR_BS3,         (BIT3)
.equ GPIO_BSRR_BS2,         (BIT2)
.equ GPIO_BSRR_BS1,         (BIT1)
.equ GPIO_BSRR_BS0,         (BIT0)

.equ GPIO_Pin_0,            (BIT0)
.equ GPIO_Pin_1,            (BIT1)
.equ GPIO_Pin_2,            (BIT2)
.equ GPIO_Pin_3,            (BIT3)
.equ GPIO_Pin_4,            (BIT4)
.equ GPIO_Pin_5,            (BIT5)
.equ GPIO_Pin_6,            (BIT6)
.equ GPIO_Pin_7,            (BIT7)
.equ GPIO_Pin_8,            (BIT8)
.equ GPIO_Pin_9,            (BIT9)
.equ GPIO_Pin_10,           (BIT10)
.equ GPIO_Pin_11,           (BIT11)
.equ GPIO_Pin_12,           (BIT12)
.equ GPIO_Pin_13,           (BIT13)
.equ GPIO_Pin_14,           (BIT14)
.equ GPIO_Pin_15,           (BIT15)


.equ EXTI_IMR_IMR0,         (BIT0)
.equ EXTI_IMR_IMR1,         (BIT1)
.equ EXTI_IMR_IMR2,         (BIT2)
.equ EXTI_IMR_IMR3,         (BIT3)
.equ EXTI_IMR_IMR4,         (BIT4)
.equ EXTI_IMR_IMR5,         (BIT5)
.equ EXTI_IMR_IMR6,         (BIT6)
.equ EXTI_IMR_IMR7,         (BIT7)
.equ EXTI_IMR_IMR8,         (BIT8)
.equ EXTI_IMR_IMR9,         (BIT9)
.equ EXTI_IMR_IMR10,        (BIT10)
.equ EXTI_IMR_IMR11,        (BIT11)
.equ EXTI_IMR_IMR12,        (BIT11)
.equ EXTI_IMR_IMR13,        (BIT13)
.equ EXTI_IMR_IMR14,        (BIT14)
.equ EXTI_IMR_IMR15,        (BIT15)
.equ EXTI_IMR_IMR16,        (BIT16)
.equ EXTI_IMR_IMR17,        (BIT17)
.equ EXTI_IMR_IMR18,        (BIT18)
.equ EXTI_IMR_IMR19,        (BIT19)

.equ EXTI_RTSR_TR0,         (BIT0)
.equ EXTI_RTSR_TR1,         (BIT1)
.equ EXTI_RTSR_TR2,         (BIT2)
.equ EXTI_RTSR_TR3,         (BIT3)
.equ EXTI_RTSR_TR4,         (BIT4)
.equ EXTI_RTSR_TR5,         (BIT5)
.equ EXTI_RTSR_TR6,         (BIT6)
.equ EXTI_RTSR_TR7,         (BIT7)
.equ EXTI_RTSR_TR8,         (BIT8)
.equ EXTI_RTSR_TR9,         (BIT9)
.equ EXTI_RTSR_TR10,        (BIT10)
.equ EXTI_RTSR_TR11,        (BIT11)
.equ EXTI_RTSR_TR12,        (BIT12)
.equ EXTI_RTSR_TR13,        (BIT13)
.equ EXTI_RTSR_TR14,        (BIT14)
.equ EXTI_RTSR_TR15,        (BIT15)
.equ EXTI_RTSR_TR16,        (BIT16)
.equ EXTI_RTSR_TR17,        (BIT17)
.equ EXTI_RTSR_TR18,        (BIT18)
.equ EXTI_RTSR_TR19,        (BIT19)


.equ EXTI_FTSR_TR0,         (BIT0)
.equ EXTI_FTSR_TR1,         (BIT1)
.equ EXTI_FTSR_TR2,         (BIT2)
.equ EXTI_FTSR_TR3,         (BIT3)
.equ EXTI_FTSR_TR4,         (BIT4)
.equ EXTI_FTSR_TR5,         (BIT5)
.equ EXTI_FTSR_TR6,         (BIT6)
.equ EXTI_FTSR_TR7,         (BIT7)
.equ EXTI_FTSR_TR8,         (BIT8)
.equ EXTI_FTSR_TR9,         (BIT9)
.equ EXTI_FTSR_TR10,        (BIT10)
.equ EXTI_FTSR_TR11,        (BIT11)
.equ EXTI_FTSR_TR12,        (BIT12)
.equ EXTI_FTSR_TR13,        (BIT13)
.equ EXTI_FTSR_TR14,        (BIT14)
.equ EXTI_FTSR_TR15,        (BIT15)
.equ EXTI_FTSR_TR16,        (BIT16)
.equ EXTI_FTSR_TR17,        (BIT17)
.equ EXTI_FTSR_TR18,        (BIT18)
.equ EXTI_FTSR_TR19,        (BIT19)

@ General BIT constants
.equ BIT0,                  (0x00000001)
.equ BIT1,                  (0x00000002)
.equ BIT2,                  (0x00000004)
.equ BIT3,                  (0x00000008)
.equ BIT4,                  (0x00000010)
.equ BIT5,                  (0x00000020)
.equ BIT6,                  (0x00000040)
.equ BIT7,                  (0x00000080)
.equ BIT8,                  (0x00000100)
.equ BIT9,                  (0x00000200)
.equ BIT10,                 (0x00000400)
.equ BIT11,                 (0x00000800)
.equ BIT12,                 (0x00001000)
.equ BIT13,                 (0x00002000)
.equ BIT14,                 (0x00004000)
.equ BIT15,                 (0x00008000)
.equ BIT16,                 (0x00010000)
.equ BIT17,                 (0x00020000)
.equ BIT18,                 (0x00040000)
.equ BIT19,                 (0x00080000)
.equ BIT20,                 (0x00100000)
.equ BIT21,                 (0x00200000)
.equ BIT22,                 (0x00400000)
.equ BIT23,                 (0x00800000)
.equ BIT24,                 (0x01000000)
.equ BIT25,                 (0x02000000)
.equ BIT26,                 (0x04000000)
.equ BIT27,                 (0x08000000)
.equ BIT28,                 (0x10000000)
.equ BIT29,                 (0x20000000)
.equ BIT30,                 (0x40000000)
.equ BIT31,                 (0x80000000)
